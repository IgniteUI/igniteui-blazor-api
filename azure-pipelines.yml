trigger:
- master

pool:
 name: BuildAgentOnPrem


steps:
- task: NuGetToolInstaller@1
  inputs:
    versionSpec: '5.x'

- task: NuGetCommand@2
  inputs:
    command: 'custom'
    arguments: 'sources Remove -Name "IG ProGet IgniteUINuGet - Staging"'

- task: NuGetCommand@2
  inputs:
    command: 'custom'
    arguments: 'sources Add -Name "IG ProGet IgniteUINuGet - Staging" -Source http://proget.infragistics.local:81/nuget/IgniteUINuGet/'

- task: NuGetAuthenticate@1
  inputs:
    nuGetServiceConnections: 'IG ProGet IgniteUINuGet - Staging'

- task: NuGetCommand@2
  inputs:
    command: 'custom'
    arguments: 'install IgniteUI.Blazor.Documents.Core  -Version 23.1.37 -DependencyVersion Ignore'

- task: NuGetCommand@2
  inputs:
    command: 'restore'
    restoreSolution: '**/*.csproj'
    feedsToUse: 'config'
    externalFeedCredentials: 'IG ProGet IgniteUINuGet - Staging'